<html>
<head>
<title>game js</title>


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Big+Shoulders+Inline:opsz,wght@10..72,100..900&display=swap" rel="stylesheet">


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Big+Shoulders+Inline:opsz,wght@10..72,100..900&family=Big+Shoulders+Stencil:opsz,wght@10..72,100..900&display=swap" rel="stylesheet">


</head>
<body style="background-color:#7FA1C3;">
<h2 style="font-family:Big Shoulders Inline;text-align:center;font-weight:bold;font-size:20vh">Rock Paper Scissors game</h2>
<p style="font-family:Big Shoulders Stencil;text-align:center;font-weight:bold;font-size:7vh">Select any one!</p>



<div class="flex-container" style="display:grid;grid-template-columns:25% 50% 25%">
<center>
<div id=u1 >
	USER PICKED:<br/>
</div>
</center>
<center>
<div style="background-color:#16325B;width:50vh;height:auto;padding-top:25px;padding-bottom:25px;" >
<button type="button" onclick='
u="rock";
userp(u);
'>
<img src="./image/rock.png" style="height:73px;width:74px;">
</button>
<button type="button" onclick='
u="paper";
userp(u);
'>
<img src="./image/paper.png" style="height:73px;width:74px;">
</button>
<button type="button" onclick='
u="scissor";
userp(u);
'>
<img src="./image/scissor.png" style="height:73px;width:74px;"></button>





    <button type="button" onclick="
      score.win = 0;
      score.loss = 0;
      score.tie = 0;
      window.localStorage.removeItem('score');
	reset();
    ">Reset Score</button>
</div>
</center>


<center>
<div id=c1 >
	COMP PICKED:<br/>
</div>
</center>

<br/>
</div>


<div id=dis style="background-color:yellow;font-size:5vh;font-family:consolas;text-align:center">
</div>
<center>
<div id=dix style="background-color:green;font-size:5vh;font-family:consolas;text-align:center;color:red;height:auto;width:15vh;">
</div>

</center>
<script>


const img1=document.createElement('img');
const img2=document.createElement('img');
const img3=document.createElement('img');

img1.src="./image/rock.png";
img2.src="./image/paper.png";
img3.src="./image/scissor.png";

/*let score=JSON.parse(localStorage.getItem('score'));
const score={
'win':0,
'loss':0,
'tie':0};*/
      let score = JSON.parse(window.localStorage.getItem('score')) || {
        win: 0,
        'loss': 0,
        'tie': 0
      };

if(!score)
{

}

let comp="";
let r="";
let u="";
function c_m()
{
let r=0;
let c="";
r=Math.random();
if(r>0&&r<1/3)
c="scissor";
if(r>1/3&&r<2/3)
c="rock";
if(r>2/3&&r<1)
c="paper";

return c;
}


function userp(user)
{
comp=c_m();
r="";

const cl=document.getElementById("c1");
const ul=document.getElementById("u1");


if(cl!==null)
{
if(comp==="paper")
{
	const exi = cl.querySelector('img');
	if(exi)
	cl.replaceChild(img2.cloneNode(true), exi);
	else
	cl.appendChild(img2.cloneNode(true));
}
else if(comp==="rock")
{
	exi = cl.querySelector('img');
	if(exi)
	cl.replaceChild(img1.cloneNode(true), exi);
	else
	cl.appendChild(img1.cloneNode(true));
}
else if(comp==="scissor")
{
	exi = c1.querySelector('img');
	if(exi)
	cl.replaceChild(img3.cloneNode(true), exi);
	else
	cl.appendChild(img3.cloneNode(true));
}
}


if(ul!==null)
{
if(user==="paper")
{
	exi = ul.querySelector('img');
	if(exi)
	ul.replaceChild(img2.cloneNode(true), exi);
	else
	ul.appendChild(img2.cloneNode(true));
}
else if(user==="rock")
{
	exi = ul.querySelector('img');
	if(exi)
	ul.replaceChild(img1.cloneNode(true), exi);
	else
	ul.appendChild(img1.cloneNode(true));
}
else if(user==="scissor")
{
	exi = ul.querySelector('img');
	if(exi)
	ul.replaceChild(img3.cloneNode(true), exi);
	else
	ul.appendChild(img3.cloneNode(true));
}
}


if(user==="paper")
{
if(comp==="paper")
{
score.tie+=1;
r="Tie";
}
else if(comp==="rock")
{
score.win+=1;
r="Win";
}
else if(comp==="scissor")
{
score.loss+=1;
r="Loss";
}

	
}
else if(user==="rock")
{
if(comp==="paper")
{
r="Loss";
score.loss+=1;
}
if(comp==="rock")
{
r="Tie";
score.tie+=1;
}
if(comp==="scissor")
{
r="Win";
score.win+=1;
}
	
}
else if(user==="scissor")
{
if(comp==="paper")
{
r="Win";
score.win+=1;
}
if(comp==="rock")
{
r="Loss";
score.loss+=1;
}
if(comp==="scissor")
{
r="Tie";
score.tie+=1;
}
}
window.localStorage.setItem('score', JSON.stringify(score));
alert(`You picked ${user}.Computer picked ${comp}.You ${r}`);
document.getElementById("dix").innerHTML=`${r}`;
document.getElementById("dis").innerHTML="Win:    "+score.win+"   Tie:   "+score.tie+"   Loss:   "+score.loss;
}

function reset()
{
document.getElementById("dis").innerHTML="Win:    "+score.win+"   Tie:   "+score.tie+"   Loss:   "+score.loss;
document.getElementById("dix").innerHTML="";
}

document.getElementById("dis").innerHTML="Win:    "+score.win+"   Tie:   "+score.tie+"   Loss:   "+score.loss;

</script>
</body>
</html>
